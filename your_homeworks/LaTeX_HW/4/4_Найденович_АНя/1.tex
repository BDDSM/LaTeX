\documentclass[12pt, a4paper]{article}


%%%%%%%%%% Програмный код %%%%%%%%%%
\usepackage{minted}
% Включает подсветку команд в программах!
% Нужно, чтобы на компе стоял питон, надо поставить пакет Pygments, в котором он сделан, через pip.

% Для Windows: Жмём win+r, вводим cmd, жмём enter. Открывается консоль.
% Прописываем easy_install Pygments
% Заходим в настройки texmaker и там прописываем в PdfLatex:
% pdflatex -shell-escape -synctex=1 -interaction=nonstopmode %.tex

% Для Linux: Открываем консоль. Убеждаемся, что у вас установлен pip командой pip --version
% Если он не установлен, ставим его: sudo apt-get install python-pip
% Ставим пакет sudo pip install Pygments

% Для Mac: Всё то же самое, что на Linux, но через brew.

% После всего этого вы должны почувствовать себя тру-программистами!
% Документация по пакету хорошая. Сам читал, погуглите!


%%%%%%%%%% Математика %%%%%%%%%%
\usepackage{amsmath,amsfonts,amssymb,amsthm,mathtools}
%\mathtoolsset{showonlyrefs=true}  % Показывать номера только у тех формул, на которые есть \eqref{} в тексте.
%\usepackage{leqno} % Нумерация формул слева


%%%%%%%%%%%%%%%%%%%%%%%% Шрифты %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{fontspec}         % пакет для подгрузки шрифтов
\setmainfont{Arial}   % задаёт основной шрифт документа

% Команда, которая нужна для корректного отображения длинных тире и некоторых других символов.
\defaultfontfeatures{Mapping=tex-text}

% why do we need \newfontfamily:
% http://tex.stackexchange.com/questions/91507/
\newfontfamily{\cyrillicfonttt}{Arial}
\newfontfamily{\cyrillicfont}{Arial}
\newfontfamily{\cyrillicfontsf}{Arial}

\usepackage{unicode-math}     % пакет для установки математического шрифта
\setmathfont{Asana Math}      % шрифт для математики
% \setmathfont[math-style=ISO]{Asana Math}
% Можно делать смену начертания с помощью разных стилей

% Конкретный символ из конкретного шрифта
% \setmathfont[range=\int]{Neo Euler}

\usepackage{polyglossia}      % Пакет, который позволяет подгружать русские буквы
\setdefaultlanguage{russian}  % Основной язык документа
\setotherlanguage{english}    % Второстепенный язык документа


%%%%%%%%%% Работа с картинками %%%%%%%%%
\usepackage{graphicx}                  % Для вставки рисунков
\usepackage{graphics}
\graphicspath{{images/}{pictures/}}    % можно указать папки с картинками
\usepackage{wrapfig}                   % Обтекание рисунков и таблиц текстом


%%%%%%%%%% Работа с таблицами %%%%%%%%%%
\usepackage{tabularx}            % новые типы колонок
\usepackage{tabulary}            % и ещё новые типы колонок
\usepackage{array}               % Дополнительная работа с таблицами
\usepackage{longtable}           % Длинные таблицы
\usepackage{multirow}            % Слияние строк в таблице
\usepackage{float}               % возможность позиционировать объекты в нужном месте
\usepackage{booktabs}            % таблицы как в книгах!
\renewcommand{\arraystretch}{1.3} % больше расстояние между строками


% Заповеди из документации к booktabs:
% 1. Будь проще! Глазам должно быть комфортно
% 2. Не используйте вертикальные линни
% 3. Не используйте двойные линии. Как правило, достаточно трёх горизонтальных линий
% 4. Единицы измерения - в шапку таблицы
% 5. Не сокращайте .1 вместо 0.1
% 6. Повторяющееся значение повторяйте, а не говорите "то же"
% 7. Есть сомнения? Выравнивай по левому краю!


%%%%%%%%%% Графика и рисование %%%%%%%%%%
\usepackage{tikz, pgfplots}  % язык для рисования графики из latex'a


%%%%%%%%%% Гиперссылки %%%%%%%%%%
\usepackage{xcolor}              % разные цвета

% Два способа включить в пакете какие-то опции:
%\usepackage[опции]{пакет}
%\usepackage[unicode,colorlinks=true,hyperindex,breaklinks]{hyperref}

\usepackage{hyperref}
\hypersetup{
    unicode=true,           % позволяет использовать юникодные символы
    colorlinks=true,       	% true - цветные ссылки, false - ссылки в рамках
    urlcolor=blue,          % цвет ссылки на url
    linkcolor=red,          % внутренние ссылки
    citecolor=green,        % на библиографию
	pdfnewwindow=true,      % при щелчке в pdf на ссылку откроется новый pdf
	breaklinks              % если ссылка не умещается в одну строку, разбивать ли ее на две части?
}

\usepackage{csquotes}            % Еще инструменты для ссылок


%%%%%%%%%% Другие приятные пакеты %%%%%%%%%
\usepackage{multicol}       % несколько колонок
\usepackage{verbatim}       % для многострочных комментариев

\usepackage{enumitem} % дополнительные плюшки для списков
%  например \begin{enumerate}[resume] позволяет продолжить нумерацию в новом списке

\usepackage{todonotes} % для вставки в документ заметок о том, что осталось сделать
% \todo{Здесь надо коэффициенты исправить}
% \missingfigure{Здесь будет Последний день Помпеи}
% \listoftodos --- печатает все поставленные \todo'шки


\usepackage{indentfirst} % установка отступа в первом абзаце главы!!!

% Разные мелочи для русского языка из пакета babel
\setkeys{russian}{babelshorthands=true}



\title{Набирай меня полностью}
\date{\today}


\begin{document} 

\section*{Какая-то задача в R, оформленная с помощью minted}

\begin{minted}[breaklines]{R}
# Задача 3
g<-function(x) {
  if(is.logical(x[1])&x[1]) {return("cos(x)+7sin(3x)")} else {return(cos(x)+7*sin(3*x))}
}
h<-function(x) {
  if(is.logical(x[1])&x[1]) {return("x^2+10cos(2x)")} else {return(x^2+10*cos(2*x))}
}
t<-function(x) {
  if(is.logical(x[1])&x[1]) {return("x^2")} else {return(10*x-log(6*x))}
}

fib<-function(x) {
  a<-c()
  a[1]<-1
  a[2]<-1
  if (x==0) {return((sqrt(5)+1)/2)
    } else {
      if (x==1) {return((sqrt(5)+1)/2)
      } else {
  for (i in 3:(x+1)) {
    a[i]<-a[i-1]+a[i-2]
  }}
  return(a[x+1]/a[x])
  }
}

zoloto<-function(a,b,f,e,r) {
  n<-0
  m<-0
  if (b<a) {
    l<-b
    b<-a
    a<-l
  }
  z<-fib(r)
  x2<-a+(b-a)/z
  x1<-b-(b-a)/z
  
  par(mfcol=c(3,2))
  
  while(abs(b-a)>e) {
    if(n<=5) {
      s.x<-seq(a,b,by=0.001)
      s.y<-f(s.x)
      plot(s.x,s.y,type='l',main=paste("График функции",f(T),"шаг",n),col='violetred',xlab="x",ylab="f(x)")
      abline(v=c(a,x1,x2,b),lwd=c(2,1,1,2),col=c('black','red','blue','black'))
      n<-n+1
    }
    if (f(x1)<f(x2)) {
      b<-x2
      x2<-x1
      x1<-b-(b-a)/z
    } else {
      a<-x1
      x1<-x2
      x2<-a+(b-a)/z
    }
    m<-m+1
  }
  
  X<-a+(b-a)/2
  return(c(X,f(X),m))
}

\end{minted}


\end{document} 